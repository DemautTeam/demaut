<div ng-include="'template/include/include-steps-new.html'"></div>
<div class="bs-wizard-info text-left">
    <fieldset>
        <legend>Veuillez saisir vos futures activitées professionnelles :</legend>
        <div>
            <ng-form name="donneesActivite.donneesActiviteForm">
                <div class="row">
                    <div class="col-md-2"><label for="etablissement">Nom établissement*</label></div>
                    <div class="col-md-10">
                        <input type="text" id="etablissement" name="etablissement" class="form-control" required="required" ng-model="activiteData.activite.etablissement">
                    </div>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <div class="col-md-2"><label for="adresseRue">Rue, No*</label></div>
                    <div class="col-md-10">
                        <input type="text" id="adresseRue" name="adresseRue" class="form-control" required="required" ng-model="activiteData.activite.adresseRue">
                    </div>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <label for="npa" class="col-md-2">NPA*</label>
                    <div class="col-md-4">
                        <input type="text" id="npa" name="npa" class="form-control" required="required"  ng-model="activiteData.activite.npa">
                    </div>
                    <label for="localite" class="col-md-2">Localité*</label>
                    <div class="col-md-4">
                        <input type="text" id="localite" name="localite" class="form-control" required="required" ng-model="activiteData.activite.localite">
                    </div>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <label for="telephoneProf" class="col-md-2">Téléphone prof.*</label>
                    <div class="col-md-4">
                        <input type="tel" id="telephoneProf" name="telephoneProf" required  class="form-control"  ng-model="activiteData.activite.telephoneProf">
                    </div>
                    <label for="telephoneMobile" class="col-md-2">Téléphone mobile</label>
                    <div class="col-md-4">
                        <input type="tel" id="telephoneMobile" required name="telephoneMobile" class="form-control" ng-model="activiteData.activite.telephoneMobile">
                    </div>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <label for="email" class="col-md-2">Adresse email*</label>
                    <div class="col-md-4">
                        <input type="email" id="email" class="form-control" required="required" ng-model="activiteData.activite.email">
                    </div>
                    <label for="fax" class="col-md-2">Fax</label>
                    <div class="col-md-4">
                        <input type="tel" id="fax" class="form-control" ng-model="activiteData.activite.fax">
                    </div>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <div class="col-md-2"><label for="site">Site internet</label></div>
                    <div class="col-md-4">
                        <input type="text" id="site" name="site" class="form-control" ng-model="activiteData.activite.site">
                    </div>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div>
                    <fieldset>
                        <legend>Activité professionnelle envisagée?</legend>
                        <div class="row">
                            <div class="col-md-5">
                                <label>Type d'activité</label>
                            </div>
                            <div class="col-md-4">
                                <label>Nombre demi-journées/semaine</label>
                            </div>
                            <div class="col-md-3">
                                <label>Date prévue de début</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-5">
                                <input type="checkbox" name="flagTauxIndependant" value="flagTauxIndependant" ng-required="isFlagTauxIndependantRequired()" ng-model="activiteData.activite.flagTauxIndependant"/>
                                <label>à titre indépendant (en son propre nom et à son propre compte)</label>
                            </div>
                            <div class="col-md-4">
                                <input type="text" id="tauxIndependant" class="form-control" required="isTauxIndependantRequired" ng-model="activiteData.activite.tauxIndependant"/>
                            </div>
                            <div class="col-md-2">
                                <p class="input-group">
                                    <input type="text" class="form-control" id="dateDebutIndependant" name="dateDebutIndependant" placeholder="{{datePicker.placeholder}}"
                                           datepicker-popup="{{datePicker.format}}" ng-model="activiteData.activite.dateDebutIndependant"
                                           is-open="activiteData.datePicker.status.dateDebutIndependant.opened" min-date="datePicker.minDate" datepicker-options="datePicker.dateOptions"
                                           required="isDateDebutIndependantRequired" close-text="Fermer" clear-text="Effacer" current-text="Aujourd'hui"/>
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-default" ng-click="openDatePicker(activiteData.datePicker.status.dateDebutIndependant)">
                                            <i class="glyphicon glyphicon-calendar"></i>
                                        </button>
                                    </span>
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-5">
                                <input type="checkbox" name="flagTauxDependant" value="flagTauxDependant" ng-required="isFlagTauxDependantRequired()" ng-model="activiteData.activite.flagTauxDependant"/>
                                <label>à titre dépendant (salarié), professionnellement responsable*</label>
                            </div>
                            <div class="col-md-4">
                                <input type="text" id="tauxDependant" class="form-control" required="isTauxDependantRequired" ng-model="activiteData.activite.tauxDependant">
                            </div>
                            <div class="col-md-2">
                                <p class="input-group">
                                    <input type="text" class="form-control" id="dateDebutDependant" name="dateDebutDependant" placeholder="{{datePicker.placeholder}}"
                                           datepicker-popup="{{datePicker.format}}" ng-model="activiteData.activite.dateDebutDependant"
                                           is-open="activiteData.datePicker.status.dateDebutDependant.opened" max-date="datePicker.maxDate" datepicker-options="datePicker.dateOptions"
                                           required="isDateDebutDependantRequired" close-text="Fermer" clear-text="Effacer" current-text="Aujourd'hui"/>
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-default" ng-click="openDatePicker(activiteData.datePicker.status.dateDebutDependant)">
                                            <i class="glyphicon glyphicon-calendar"></i>
                                        </button>
                                    </span>
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <br/>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <label>
                                    (*Exerce à titre dépendant et professionnellement responsable, tout professionnel de la santé, qui, tout en ayant un statut de
                                    salarié, n’exerce pas sous la responsabilité et la surveillance d’un professionnel autorisé et assume dès lors la responsabilité
                                    professionnelle de ses actes. Ce type d’activité est notamment répandu dans les institutions ambulatoires telles que centres
                                    dentaires ou médicaux, pharmacies ou drogueries de chaînes, ou hôpitaux.)
                                </label>
                            </div>
                        </div>
                        <div class="row">
                            <br/>
                        </div>
                    </fieldset>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div>
                    <fieldset>
                        <legend>Avez-vous l’intention de pratiquer à charge de l’assurance-maladie obligatoire (assurance de base)?</legend>
                        <div class="row">
                            <div class="col-md-10">
                                <input type="radio" name="pratiquerBase" value="independant" ng-model="activiteData.activite.pratiquerBase" ng-required="iPratiquerBaseRequired()"/>
                                <label>oui, à titre indépendant (admission personnelle)</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-10">
                                <input type="radio" name="pratiquerBase" value="dependant"  ng-model="activiteData.activite.pratiquerBase" ng-required="iPratiquerBaseRequired()"/>
                                <label>oui, à titre dépendant, professionnellement responsable (admission par le biais de l'employeur)</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-10">
                                <input type="radio" name="pratiquerBase" value="non" ng-model="activiteData.activite.pratiquerBase" ng-required="iPratiquerBaseRequired()"/>
                                <label>non</label>
                            </div>
                        </div>
                        <div class="row">
                            <br/>
                        </div>
                    </fieldset>
                </div>
                <div class="row">
                    <br/>
                </div>
            </ng-form>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary submit-btn" type="submit" aria-label="Nouvelle" ng-click="addAnotherActivitee()">
                <span class="glyphicon glyphicon-plus"></span>
                Ajouter une activitée
            </button>
        </div>
        <div ng-show="activiteData.activites.length > 0">
            <legend>Formations et titres :</legend>
            <div style="overflow: auto;height: 460px;">
                <table class="table table-striped">
                    <thead>
                    <tr bgcolor="#99CC00">
                        <th>Nom établissement</th>
                        <th>NPA</th>
                        <th>Localité</th>
                        <th>Téléphone prof.
                        <th>Téléphone mobile</th>
                        <th>Adresse email</th>
                    </tr>
                    </thead>
                    <tr ng-repeat="activite in activiteData.activites">
                        <td>{{activite.etablissement}}</td>
                        <td>
                            {{activite.npa}}
                        </td>
                        <td>
                            {{activite.localite}}
                        </td>
                        <td>
                            {{activite.telephoneProf}}
                        </td>
                        <td>
                            {{activite.telephoneMobile}}
                        </td>
                        <td>
                            {{activite.email}}
                        </td>
                        <td>
                            <a href="" ng-click="editActivite(activite)" class="btn btn-xs btn-default">
                                <span class="glyphicon glyphicon-edit"></span>
                            </a>
                            <a href="" ng-click="deleteActivite(activite)" class="btn btn-xs btn-default">
                                <span class="glyphicon glyphicon-trash"></span>
                            </a>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </fieldset>
</div>
<step-actions back-step-fn="backStep()" next-step-fn="nextStep()"/>