<div ng-include="'template/include/include-steps.html'"></div>
<div class="bs-wizard-info text-left">
    <fieldset>
        <legend>Veuillez saisir vos Données Personnelles :</legend>
        <div>
            <ng-form name="donneesPerso.donneesPersoDataForm">
                <div id="Formulaire_vide" class="alert alert-danger" ng-show="donneesPerso.donneesPersoDataForm.$pristine && wouldStepNext">
                    <button type="button" class="close" data-target="#Formulaire_vide" data-dismiss="alert">
                        <span aria-hidden="true">&times;</span><span class="sr-only">×</span>
                    </button>
                    Veuillez saisir vos données personnelles.
                </div>
                <div ng-hide="donneesPerso.donneesPersoDataForm.$pristine || donneesPerso.donneesPersoDataForm.$valid">
                    <div id="Nom_obligatoire" class="alert alert-danger" ng-show="donneesPerso.donneesPersoDataForm.nom.$touched && donneesPerso.donneesPersoDataForm.nom.$error.required">
                        <button type="button" class="close" data-target="#Nom_obligatoire" data-dismiss="alert">
                            <span aria-hidden="true">&times;</span><span class="sr-only">×</span>
                        </button>
                        Veuillez saisir votre nom.
                    </div>
                    <div id="Prenom_obligatoire" class="alert alert-danger" ng-show="donneesPerso.donneesPersoDataForm.prenom.$touched && donneesPerso.donneesPersoDataForm.prenom.$error.required">
                        <button type="button" class="close" data-target="#Prenom_obligatoire" data-dismiss="alert">
                            <span aria-hidden="true">&times;</span><span class="sr-only">×</span>
                        </button>
                        Veuillez saisir votre prénom.
                    </div>
                    <div id="Adresse_obligatoire" class="alert alert-danger" ng-show="donneesPerso.donneesPersoDataForm.adressePersonnelle.$touched && donneesPerso.donneesPersoDataForm.adressePersonnelle.$error.required">
                        <button type="button" class="close" data-target="#Adresse_obligatoire" data-dismiss="alert">
                            <span aria-hidden="true">&times;</span><span class="sr-only">×</span>
                        </button>
                        Veuillez saisir votre adresse privée.
                    </div>
                    <div id="Localite_obligatoire" class="alert alert-danger" ng-show="donneesPerso.donneesPersoDataForm.localite.$touched && donneesPerso.donneesPersoDataForm.localite.$error.required">
                        <button type="button" class="close" data-target="#Localite_obligatoire" data-dismiss="alert">
                            <span aria-hidden="true">&times;</span><span class="sr-only">×</span>
                        </button>
                        Veuillez saisir la localité de votre adresse privée.
                    </div>
                    <div id="NPA_valide" class="alert alert-danger" ng-show="donneesPerso.donneesPersoDataForm.npa.$touched && donneesPerso.donneesPersoDataForm.npa.$invalid">
                        <button type="button" class="close" data-target="#NPA_valide" data-dismiss="alert">
                            <span aria-hidden="true">&times;</span><span class="sr-only">×</span>
                        </button>
                        Veuillez saisir un NPA est valide.
                    </div>
                    <div id="Pays_obligatoire" class="alert alert-danger" ng-show="donneesPerso.donneesPersoDataForm.pays.$touched && donneesPerso.donneesPersoDataForm.pays.$error.required">
                        <button type="button" class="close" data-target="#Pays_obligatoire" data-dismiss="alert">
                            <span aria-hidden="true">&times;</span><span class="sr-only">×</span>
                        </button>
                        Veuillez saisir le pays de votre adresse privée.
                    </div>
                    <div id="Telephone_obligatoire" class="alert alert-danger" ng-show="(donneesPerso.donneesPersoDataForm.telephoneMobile.$touched || donneesPerso.donneesPersoDataForm.telephonePrive.$touched)  && (donneesPerso.donneesPersoDataForm.telephoneMobile.$valid || donneesPerso.donneesPersoDataForm.telephonePrive.$valid)">
                        <button type="button" class="close" data-target="#Telephone_obligatoire" data-dismiss="alert">
                            <span aria-hidden="true">&times;</span><span class="sr-only">×</span>
                        </button>
                        Veuillez saisir au moins un numéro de telephone.
                    </div>
                    <div id="Email_valide" class="alert alert-danger" ng-show="donneesPerso.donneesPersoDataForm.email.$touched && donneesPerso.donneesPersoDataForm.email.$invalid">
                        <button type="button" class="close" data-target="#Email_valide" data-dismiss="alert">
                            <span aria-hidden="true">&times;</span><span class="sr-only">×</span>
                        </button>
                        Veuillez saisir un email valide.
                    </div>
                    <div id="Naissance_valide" class="alert alert-danger" ng-show="donneesPerso.donneesPersoDataForm.dateDeNaissance.$touched && donneesPerso.donneesPersoDataForm.dateDeNaissance.$invalid">
                        <button type="button" class="close" data-target="#Naissance_valide" data-dismiss="alert">
                            <span aria-hidden="true">&times;</span><span class="sr-only">×</span>
                        </button>
                        Veuillez saisir une date de naissance valide.
                    </div>
                    <div id="Nationalite_obligatoire" class="alert alert-danger" ng-show="donneesPerso.donneesPersoDataForm.nationalite.$touched && donneesPerso.donneesPersoDataForm.nationalite.$invalid">
                        <button type="button" class="close" data-target="#Nationalite_obligatoire" data-dismiss="alert">
                            <span aria-hidden="true">&times;</span><span class="sr-only">×</span>
                        </button>
                        Veuillez saisir votre nationalité.
                    </div>
                    <div id="Permis_obligatoire" class="alert alert-danger" ng-show="donneesPerso.donneesPersoDataForm.nationalite.$touched && !isSuisse() && isPermisRequired()">
                        <button type="button" class="close" data-target="#Permis_obligatoire" data-dismiss="alert">
                            <span aria-hidden="true">&times;</span><span class="sr-only">×</span>
                        </button>
                        Veuillez préciser votre permis de séjour.
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2"><label for="nom">Nom*</label></div>
                    <div class="col-md-10"><input type="text" id="nom" name="nom" class="form-control" required="required" ng-model="personalData.nom"></div>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <div class="col-md-2"><label for="prenom">Prénom(s)*</label></div>
                    <div class="col-md-10"><input type="text" id="prenom" name="prenom" class="form-control" required="required" ng-model="personalData.prenom"></div>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <div class="col-md-2"><label for="nomDeCelibataire">Nom de célibataire</label></div>
                    <div class="col-md-10"><input type="text" id="nomDeCelibataire" name="nomDeCelibataire" class="form-control" ng-model="personalData.nomDeCelibataire"></div>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <div class="col-md-2"><label for="adressePersonnelle">Adresse privée*</label></div>
                    <div class="col-md-10"><input type="text" id="adressePersonnelle" name="adressePersonnelle" class="form-control" required="required" ng-model="personalData.adressePersonnelle"></div>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <label for="localite" class="col-md-2">Localité*</label>
                    <div class="col-md-2">
                        <input type="text" id="localite" name="localite" class="form-control" required="required" ng-model="personalData.localite">
                    </div>
                    <label for="npa" class="col-md-2">
                        NPA*
                    </label>
                    <div class="col-md-2">
                        <input type="number" id="npa" name="npa" class="form-control" required="required"  ng-model="personalData.npa">
                    </div>
                    <label for="pays" class="col-md-2">
                        Pays*
                    </label>
                    <div class="col-md-2">
                        <input type="text" id="pays" name="pays" class="form-control" required="required" ng-model="personalData.pays">
                    </div>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <label for="telephonePrive" class="col-md-2">Téléphone privé<span ng-hide="donneesPerso.donneesPersoDataForm.mobilePhone.$valid">*</span></label>
                    <div class="col-md-6">
                        <input type="tel" id="telephonePrive" name="telephonePrive" ng-required="!donneesPerso.donneesPersoDataForm.telephoneMobile.$valid || donneesPerso.donneesPersoDataForm.$pristine"  class="form-control"  ng-model="personalData.telephonePrive">
                    </div>
                    <label for="telephoneMobile" class="col-md-2">
                        Mobile<span ng-hide="donneesPerso.donneesPersoDataForm.personalPhone.$valid">*</span>
                    </label>
                    <div class="col-md-2">
                        <input type="tel" id="telephoneMobile" ng-required="!donneesPerso.donneesPersoDataForm.telephonePrive.$valid || donneesPerso.donneesPersoDataForm.$pristine" name="telephoneMobile" class="form-control" ng-model="personalData.telephoneMobile">
                    </div>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <label for="email" class="col-md-2">Adresse email*</label>
                    <div class="col-md-6">
                        <input type="email" id="email" class="form-control" required="required" ng-model="personalData.email">
                    </div>
                    <label for="fax" class="col-md-2">
                        Fax
                    </label>
                    <div class="col-md-2">
                        <input type="tel" id="fax" class="form-control" ng-model="personalData.fax">
                    </div>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <label class="col-md-2">Genre*</label>
                    <div class="col-md-3">
                        <label>
                        <input type="radio" name="genre" value="feminin" ng-model="personalData.gender" ng-required="!personalData.genre">
                        Feminin
                        </label>
                    </div>
                    <div class="col-md-3">
                        <label>
                        <input type="radio" name="genre" value="masculin" ng-model="personalData.gender" ng-required="!personalData.genre">
                        Masculin
                        </label>
                    </div>
                    <label for="dateDeNaissance" class="col-md-2">
                        Date de naissance*
                    </label>
                    <div class="col-md-2">
                        <input type="date" id="dateDeNaissance" name="dateDeNaissance" placeholder="jj.mm.aaaa" class="form-control" required="required" ng-model="personalData.dateDeNaissance">
                    </div>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <label for="nationalite" class="col-md-2">Nationalité*</label>
                    <div class="col-md-3">
                        <select id="nationalite" name="nationalite" ng-model="personalData.nationalite" required ng-change="resetPermis()"
                                ng-options="nationalite.libl for nationalite in personalData.nationalites track by nationalite.id"/>
                    </div>
                    <label for="langue" class="col-md-2">Si vous parler le français*</label>
                    <div class="col-md-3">
                        <select id="langue" name="langue" ng-model="personalData.langue" required
                                ng-options="langue.libl for langue in personalData.langues track by langue.id"/>
                    </div>
                </div>
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <label class="col-md-2">Permis<span ng-hide="!isPermisRequired()">*</span></label>
                    <div class="col-md-2"><label><input type="radio" name="permis" value="B" ng-disabled="isSuisse()" ng-model="personalData.permis" ng-required="isPermisRequired()"/> B </label></div>
                    <div class="col-md-2"><label><input type="radio" name="permis" value="C" ng-disabled="isSuisse()" ng-model="personalData.permis" ng-required="isPermisRequired()"/> C </label></div>
                    <div class="col-md-2"><label><input type="radio" name="permis" value="demande en cours" ng-disabled="isSuisse()" ng-model="personalData.permis" ng-required="isPermisRequired()"/>Demande en cours</label></div>
                    <div class="col-md-2"><label><input type="radio" name="permis" value="autre" ng-disabled="isSuisse()" ng-model="personalData.permis" ng-required="isPermisRequired()"/>Autre</label></div>
                    <div class="col-md-2"><input type="text" class="form-control" ng-required="(personalData.permis == 'autre')" ng-show="(personalData.permis == 'autre')" ng-model="personalData.permisOther"></div>
                </div>
                <div class="row">
                    <br/>
                </div>
            </ng-form>
        </div>
    </fieldset>
</div>
<step-actions back-step-fn="backStep()" next-step-fn="nextStep()"/>