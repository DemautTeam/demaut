<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ctx="http://www.springframework.org/schema/context"
	   xmlns:camel="http://camel.apache.org/schema/spring" xmlns:context="http://www.springframework.org/schema/context"
	   xmlns:jdbc="http://www.springframework.org/schema/jdbc" xmlns:tx="http://www.springframework.org/schema/tx"
	   xmlns:util="http://www.springframework.org/schema/util" xmlns:cxf="http://cxf.apache.org/jaxrs"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context.xsd
       http://camel.apache.org/schema/spring
       http://camel.apache.org/schema/spring/camel-spring.xsd
       http://www.springframework.org/schema/jdbc
		http://www.springframework.org/schema/jdbc/spring-jdbc.xsd
		http://www.springframework.org/schema/tx
		http://www.springframework.org/schema/tx/spring-tx.xsd
		http://www.springframework.org/schema/util
		http://www.springframework.org/schema/util/spring-util.xsd
		http://cxf.apache.org/jaxrs
		http://cxf.apache.org/schemas/jaxrs.xsd">

	<util:properties id="props" location="demautMicrobizTest.cfg"/>

	<bean id="connectionFactory" class="org.apache.activemq.ActiveMQConnectionFactory">
		<property name="brokerURL" value="vm://localhost?broker.persistent=false"/>
	</bean>

	<bean id="esbStore" class="ch.vd.technical.esb.store.EsbStoreMock"/>

	<bean id="iamInteceptor" class="ch.vd.demaut.microbiz.rest.IamBypassInterceptor"/>

	<bean id="microbizResourceResolver" class="ch.vd.pee.microbiz.core.web.FSResourceResolver">
		<constructor-arg value="src/main/resources/www"/>
	</bean>

	<import resource="classpath:META-INF/spring/microbiz-context.xml"/>

	<cxf:server address="${demaut.microbiz.progre.soa.url}">
		<cxf:serviceBeans>
			<ref local="progreSoaServiceMock"/>
		</cxf:serviceBeans>
	</cxf:server>

	<!--<jdbc:initialize-database data-source="dataSource" ignore-failures="DROPS">-->
		<!--<jdbc:script location="classpath:${jpa.drop.script}"/>-->
		<!--<jdbc:script location="classpath:${jpa.create.script}"/>-->
		<!--<jdbc:script location="classpath:${jpa.delete.script}"/>-->
		<!--<jdbc:script location="classpath:${jpa.insert.script}"/>-->
	<!--</jdbc:initialize-database>-->

</beans>
